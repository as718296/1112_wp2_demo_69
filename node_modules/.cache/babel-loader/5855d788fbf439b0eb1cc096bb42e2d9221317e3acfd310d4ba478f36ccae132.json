{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\\\u4E0A\\u8AB2\\u7528\\\\\\u5927\\u4E8C\\\\web\\u7A0B\\u5F0F\\u8A2D\\u8A08(\\u4E8C)\\\\cart_v1_no_supabase\\\\src\\\\Context_xx.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useContext, useReducer, useEffect } from 'react';\nimport Reducer_xx from './Reducer_xx';\n\n// import cartItems from './data-0';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = 'https://course-api.com/react-useReducer-cart-project';\nconst AppContext_xx = /*#__PURE__*/React.createContext();\nconst initialState = {\n  loading: false,\n  cart: [],\n  amount: 4,\n  total: 999.9\n};\nconst AppProvider_xx = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(Reducer_xx, initialState);\n  useEffect(() => {\n    dispatch({\n      type: 'GET_TOTALS'\n    });\n  }, [state.cart]);\n  const clearCart = () => {\n    dispatch({\n      type: 'CLEAR_CART'\n    });\n  };\n  const increase = id => {\n    dispatch({\n      type: 'INCREASE',\n      payload: id\n    });\n  };\n  const decrease = id => {\n    dispatch({\n      type: 'DECREASE',\n      payload: id\n    });\n  };\n  const remove = id => {\n    dispatch({\n      type: 'REMOVE',\n      payload: id\n    });\n  };\n  const fetchData = async () => {\n    dispatch({\n      type: 'LOADING'\n    });\n    const response = await fetch(url);\n    const cart = await response.json();\n    console.log('cart', cart);\n    dispatch({\n      type: 'DISPLAY_ITEMS',\n      payload: cart\n    });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppContext_xx.Provider, {\n    value: {\n      ...state,\n      clearCart,\n      increase,\n      decrease,\n      remove\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider_xx, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n_c = AppProvider_xx;\nconst useGlobalContext_xx = () => {\n  _s2();\n  return useContext(AppContext_xx);\n};\n_s2(useGlobalContext_xx, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppProvider_xx, useGlobalContext_xx };\nvar _c;\n$RefreshReg$(_c, \"AppProvider_xx\");","map":{"version":3,"names":["React","useState","useContext","useReducer","useEffect","Reducer_xx","url","AppContext_xx","createContext","initialState","loading","cart","amount","total","AppProvider_xx","children","state","dispatch","type","clearCart","increase","id","payload","decrease","remove","fetchData","response","fetch","json","console","log","useGlobalContext_xx"],"sources":["C:/Users/Asus/Desktop/上課用/大二/web程式設計(二)/cart_v1_no_supabase/src/Context_xx.js"],"sourcesContent":["import React, { useState, useContext, useReducer, useEffect } from 'react';\r\nimport Reducer_xx from './Reducer_xx';\r\n\r\n// import cartItems from './data-0';\r\n\r\nconst url = 'https://course-api.com/react-useReducer-cart-project';\r\n\r\nconst AppContext_xx = React.createContext();\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  cart: [],\r\n  amount: 4,\r\n  total: 999.9,\r\n};\r\n\r\nconst AppProvider_xx = ({ children }) => {\r\n  const [state, dispatch] = useReducer(Reducer_xx, initialState);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'GET_TOTALS' });\r\n  }, [state.cart]);\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: 'CLEAR_CART' });\r\n  };\r\n  const increase = (id) => {\r\n    dispatch({ type: 'INCREASE', payload: id });\r\n  };\r\n  const decrease = (id) => {\r\n    dispatch({ type: 'DECREASE', payload: id });\r\n  };\r\n\r\n  const remove = (id) => {\r\n    dispatch({ type: 'REMOVE', payload: id });\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    dispatch({ type: 'LOADING' });\r\n    const response = await fetch(url);\r\n    const cart = await response.json();\r\n    console.log('cart', cart);\r\n    dispatch({ type: 'DISPLAY_ITEMS', payload: cart });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <AppContext_xx.Provider\r\n      value={{ ...state, clearCart, increase, decrease, remove }}\r\n    >\r\n      {children}\r\n    </AppContext_xx.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalContext_xx = () => {\r\n  return useContext(AppContext_xx);\r\n};\r\n\r\nexport { AppProvider_xx, useGlobalContext_xx };\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC1E,OAAOC,UAAU,MAAM,cAAc;;AAErC;AAAA;AAEA,MAAMC,GAAG,GAAG,sDAAsD;AAElE,MAAMC,aAAa,gBAAGP,KAAK,CAACQ,aAAa,EAAE;AAE3C,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,EAAE;EACRC,MAAM,EAAE,CAAC;EACTC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,cAAc,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,UAAU,CAACE,UAAU,EAAEI,YAAY,CAAC;EAE9DL,SAAS,CAAC,MAAM;IACda,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAa,CAAC,CAAC;EAClC,CAAC,EAAE,CAACF,KAAK,CAACL,IAAI,CAAC,CAAC;EAEhB,MAAMQ,SAAS,GAAG,MAAM;IACtBF,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAa,CAAC,CAAC;EAClC,CAAC;EACD,MAAME,QAAQ,GAAIC,EAAE,IAAK;IACvBJ,QAAQ,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEI,OAAO,EAAED;IAAG,CAAC,CAAC;EAC7C,CAAC;EACD,MAAME,QAAQ,GAAIF,EAAE,IAAK;IACvBJ,QAAQ,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEI,OAAO,EAAED;IAAG,CAAC,CAAC;EAC7C,CAAC;EAED,MAAMG,MAAM,GAAIH,EAAE,IAAK;IACrBJ,QAAQ,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEI,OAAO,EAAED;IAAG,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMI,SAAS,GAAG,YAAY;IAC5BR,QAAQ,CAAC;MAAEC,IAAI,EAAE;IAAU,CAAC,CAAC;IAC7B,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACrB,GAAG,CAAC;IACjC,MAAMK,IAAI,GAAG,MAAMe,QAAQ,CAACE,IAAI,EAAE;IAClCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEnB,IAAI,CAAC;IACzBM,QAAQ,CAAC;MAAEC,IAAI,EAAE,eAAe;MAAEI,OAAO,EAAEX;IAAK,CAAC,CAAC;EACpD,CAAC;EAEDP,SAAS,CAAC,MAAM;IACdqB,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE,QAAC,aAAa,CAAC,QAAQ;IACrB,KAAK,EAAE;MAAE,GAAGT,KAAK;MAAEG,SAAS;MAAEC,QAAQ;MAAEG,QAAQ;MAAEC;IAAO,CAAE;IAAA,UAE1DT;EAAQ;IAAA;IAAA;IAAA;EAAA,QACc;AAE7B,CAAC;AAAC,GAxCID,cAAc;AAAA,KAAdA,cAAc;AA0CpB,MAAMiB,mBAAmB,GAAG,MAAM;EAAA;EAChC,OAAO7B,UAAU,CAACK,aAAa,CAAC;AAClC,CAAC;AAAC,IAFIwB,mBAAmB;AAIzB,SAASjB,cAAc,EAAEiB,mBAAmB;AAAG;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}